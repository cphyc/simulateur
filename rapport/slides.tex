\documentclass[slidestop]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage{bbm}
\usepackage{epstopdf}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{amsmath}
\usetheme{Boadilla}
\usecolortheme{seahorse}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{tikz}
\usetikzlibrary{arrows,automata,calc,decorations.pathmorphing,backgrounds,positioning}

\beamertemplatenavigationsymbolsempty
\setbeamertemplate{navigation symbols}{} 

\usepackage[T1]{fontenc}


\hypersetup{pdfstartview={FitH}}
\begin{document}

\makeatletter

\title{A Watch Using Subleq}
\author{Baptiste Lefebvre, Li-yao Xia, Antonin Delpeuch}
\date{2013/01/22 15 : 55}

\begin{frame}
    \maketitle
\end{frame}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents
\end{frame}
\section{The \texttt{subleq} language}
\subsection{Motivation}

\begin{frame}
    \frametitle{Motivation}

    \begin{itemize}
        \item We discovered the MIPS architecture in compilation course.
        \item We wanted to design an original processor.
        \item We focused on environments in wich the number of gates must be kept small.
    \end{itemize}

\end{frame}

\subsection{Definition}
\begin{frame}[fragile]
    \frametitle{\texttt{subleq}}

    The instruction set is made of only one instruction written as 3
    integers :
    \\[11pt]
    \begin{lstlisting}
      a b c
    \end{lstlisting}
    which means :

    \begin{lstlisting}
      b <- *b - *a
      if b <= 0 then go to c
      else go to next instruction
    \end{lstlisting}

\end{frame}

\subsection{Examples}
\begin{frame}[fragile]{Examples}
  \begin{verbatim}
    3  4  6   8  8  -1   5  3  0
    3  4  6   8  0  -1   5  3  0
    3  4  6   9  0  -1   5  3  0
    3  4  6   9 -9  -1   5  3  0
    3  4  6  10 -9  -1   5  3  0
  \end{verbatim}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Examples}
Common instructions can be written with \texttt{subleq}, for instance :

\begin{columns}[t]
    \begin{column}[T]{5cm}
\begin{lstlisting}
move a b :
  a Z ;
  b b ;
  Z b ;
  Z Z ;

add a b c :
  c Z ;
  b Z ;
  a a ;
  Z a ;
  Z Z ;
\end{lstlisting}
    \end{column}
\begin{column}[T]{5cm}
\begin{lstlisting}
beqz a lbl :
   Z a L1
   Z Z L3
L1:
   a Z L2
   Z Z L3
L2:
   Z Z lbl
L3:

j lbl :
   Z Z lbl
\end{lstlisting}
\end{column}
\end{columns}
\end{frame}

\section{Chip architecture}
\subsection{The cycle}

\begin{frame}[fragile]
    \frametitle{The cycle}

    \begin{columns}[t]
        \begin{column}[T]{5cm}
    \begin{enumerate}
            \setcounter{enumi}{-1}

        \item \textbf{Step 1}
            \begin{lstlisting}
 Store A,
 Read address : B,
 Increment PC
            \end{lstlisting}
        \item \textbf{Step 2}
            \begin{lstlisting}
 Store B,
 Read address : VA
            \end{lstlisting}

        \item \textbf{Step 3}
            \begin{lstlisting}
 Store VA in A,
 Read address : VB
            \end{lstlisting}

    \end{enumerate}
\end{column}
\begin{column}[T]{5cm}
    \begin{enumerate}
        \setcounter{enumi}{1}
        \item \textbf{Step 4}
            \begin{lstlisting}
 Store VB,
 Read address : C,
 Increment PC
            \end{lstlisting}

        \item \textbf{Step 5}
            \begin{lstlisting}
 If VB - VA <= 0
   then set PC to C,
 Read address : A at PC,
 Increment PC
             \end{lstlisting}
    \end{enumerate}
\end{column}
\end{columns}

\end{frame}

\subsection{Outline of the chip}
\begin{frame}
    \frametitle{Outline}
    \input{schema}
\end{frame}

\section{Implementation details}

\subsection{Memory management}

\begin{frame}
e
\end{frame}

\subsection{7-segments output}

\begin{frame}
\frametitle{7-segments output}
The conversion from binary values to 7-segments output is built in the chip, in two steps :
\begin{enumerate}
    \item Binary $\rightarrow$ Binary Coded Decimal (BCD)
        
          \texttt{101010} $\rightarrow$ \texttt{0100}.\texttt{0010}
    \item BCD $\rightarrow$ 7-segments

        \texttt{0100}.\texttt{0010} $\rightarrow$ \texttt{1100110}.\texttt{0111011}
\end{enumerate}
\end{frame}


\end{document}

