\documentclass[slidestop]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage{bbm}
\usepackage{epstopdf}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{amsmath}
\usetheme{Frankfurt}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{tikz}
\usetikzlibrary{arrows,automata,calc,decorations.pathmorphing,backgrounds,positioning}

\beamertemplatenavigationsymbolsempty
\setbeamertemplate{navigation symbols}{} 

\usepackage[T1]{fontenc}


\hypersetup{pdfstartview={FitH}}
\begin{document}

\makeatletter

\title{A Watch Using Subleq}
\author{Baptiste Lefebvre, Li-yao Xia, Antonin Delpeuch}
\date{2013/01/22 15 : 55}

\begin{frame}
    \maketitle
\end{frame}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents
\end{frame}
\section{The \texttt{subleq} language}
\subsection{Motivation}

\begin{frame}
    \frametitle{Motivation}

    \begin{itemize}
        \item We discovered the MIPS architecture in compilation course.
        \item We wanted to design an original processor.
        \item We focused on environments in wich the number of gates must be kept small.
    \end{itemize}

\end{frame}

\subsection{Definition}
\begin{frame}[fragile]
    \frametitle{\texttt{subleq}}

    The instruction set is made of only one instruction :

    \texttt{subleq a b c}, which means :

\begin{lstlisting}
  b := b - a;
  if b > 0 then
    go to the next instruction
  else go to c
\end{lstlisting}

\end{frame}

\subsection{Examples}
\begin{frame}[fragile]
    \frametitle{Examples}
The usual instructions can be written with \texttt{subleq}, for instance :

\begin{columns}[t]
    \begin{column}[T]{5cm}
\begin{lstlisting}
move a b :
  subleq a Z ;
  subleq b b ;
  subleq Z b ;
  subleq Z Z ;

\end{lstlisting}
    \end{column}
    \begin{column}[T]{5cm}
\begin{lstlisting}
add a b c :
  subleq c Z ;
  subleq b Z ;
  subleq a a ;
  subleq Z a ;
  subleq Z Z ;
\end{lstlisting}
\end{column}
\end{columns}

\begin{columns}[t]
\begin{column}[T]{5cm}
\begin{lstlisting}
beqz a lbl :
   subleq Z a L1
   subleq Z Z L3
L1:
   subleq a Z L2
   subleq Z Z L3
L2:
   subleq Z Z lbl
L3:
\end{lstlisting}
\end{column}
\begin{column}[T]{5cm}
\begin{lstlisting}
j lbl :
   subleq Z Z lbl
\end{lstlisting}
\end{column}
\end{columns}
\end{frame}

\section{Chip architecture}
\subsection{The cycle}

\begin{frame}[fragile]
    \frametitle{The cycle}

    \begin{columns}[t]
        \begin{column}[T]{5cm}
    \begin{enumerate}
            \setcounter{enumi}{-1}
        \item \textbf{Step 0}
            \begin{lstlisting}
 If VB - VA <= 0
   then set PC to C,
 Ask for A at PC,
 Increment PC
             \end{lstlisting}

        \item \textbf{Step 1}
            \begin{lstlisting}
 Store A,
 Ask for B,
 Increment PC
            \end{lstlisting}
    \end{enumerate}
\end{column}
\begin{column}[T]{5cm}
    \begin{enumerate}
        \setcounter{enumi}{1}
        \item \textbf{Step 2}
            \begin{lstlisting}
 Store B,
 Ask for VA
            \end{lstlisting}

        \item \textbf{Step 3}
            \begin{lstlisting}
 Store VA in A,
 Ask for VB
            \end{lstlisting}

        \item \textbf{Step 4}
            \begin{lstlisting}
 Store VB,
 Ask for C,
 Increment PC
            \end{lstlisting}
    \end{enumerate}
\end{column}
\end{columns}

\end{frame}

\subsection{Outline of the chip}
\begin{frame}
    \frametitle{Outline}
    \input{schema}
\end{frame}

\section{Implementation details}

\subsection{Memory management}

\begin{frame}
e
\end{frame}

\subsection{7-segments output}

\begin{frame}
ae
\end{frame}


\end{document}

